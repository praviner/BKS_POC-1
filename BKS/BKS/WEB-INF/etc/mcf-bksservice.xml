<?xml version="1.0" encoding="UTF-8"?>
<!--
    ******************************************************************************
    COBS 1.24 Application Configuration File
    
    IMPORTANT NOTICE: This file is automatically generated. Any change 
    applied to this file has to be reported to IT Change Management (OSX)
    
    WICHTIGER HINWEIS: Diese Datei wird automatisch erzeugt. Jede Aenderung 
    an dieser Datei muss berichtet werden an IT Change Management (OSX)
    
    Environment     : kt
    Config          : 303
    
    Product         : BKS
    Build           : 124.00
    
    Package         : pkgbksat 
    Application     : BKS
    Stream          : INF
    Instance        : kt_bks@pkgfifgt/ccb/ccb20/kt/pkgfifgt/aaw/kt/bks/PRD/apps/BKS/etc/mcf-bksservice.xml
    
    Language        : XML
    
    Config File     : mcf-bksservice.xml
    Config Date     : Thu Sep  6 17:50:34 2007
    Config Autor    : Martin Krause
    
    (c)Copyright 1999-2007 Arcor AG & Co. KG
    ******************************************************************************
-->
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:jms="http://www.springframework.org/schema/jms"
    xmlns:aop="http://www.springframework.org/schema/aop"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xmlns:util="http://www.springframework.org/schema/util" 
    xmlns:context="http://www.springframework.org/schema/context" 
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
                        http://www.springframework.org/schema/jms http://www.springframework.org/schema/jms/spring-jms-2.5.xsd
                        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd
                        http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util-2.5.xsd                       
                        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
                        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd">

    <bean class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="location" value="classpath:config/bks.application.properties"/>
        <property name="ignoreUnresolvablePlaceholders" value="true"/>
    </bean>
        
    <import resource="classpath:/mcf2/mcf2-nodb-applicationContext.xml"/>
    <!-- MCF2 webservice extension: -->
    <import resource="classpath:/mcf2/ws/wsApplicationContext.xml"/>
    <import resource="../etc/bks-performance.xml"/>    
    <import resource="classpath:conf/applicationContext-rdsClient.xml" /> 
    <import resource="ibatis_spring_connection.xml"/>    
    
    <bean id="mcf-default-listener" class="net.arcor.mcf2.listener.MCFMessageListenerContainer">
        <property name="connectionFactory" ref="connectionFactory"/>
        <property name="destinationName" value="${mcf.queue.listen}"  />
        <property name="concurrentConsumers" value="${ConcurrentConsumers}" />
        <property name="transactionManager" ref="jmsTransactionManager" />
        <property name="messageListener" ref="mcfMessageListener" />
        <property name="messageSelector" value="JMSType = 'Request'" />
    </bean>
    
    <!-- Diese Konfiguration wird vermutlich erst ab Spring 3 funktionieren :(
        Siehe: http://jira.springframework.org/browse/SPR-4466
        <jms:listener-container
        container-class="net.arcor.mcf2.listener.MCFMessageListenerContainer"
        connection-factory="connectionFactory"
        concurrency="3"
        transaction-manager="jmsTransactionManager"
        message-converter="jmsMessageConverter">
        <!-x- Der MessageConverter im Container wird fÃ¼r den mcf-default-listener nicht verwendet -x->
        <!-x- und kann auch nicht konfiguriert werden! -x->
        
        <!-x- jms:listener id = A bean name for the hosting listener container. -x->
        <jms:listener id="mcf-default-listener"
        destination="${mcf.queue.listen}"
        method="onMessage"
        selector="JMSType &lt;&gt; 'Event'"
        ref="mcfMessageListener"/>
        </jms:listener-container>
    -->
    
    <!-- Spezielles Logging durchfÃ¼hren -->
    
    <bean id="loggingAspect"
        class="net.arcor.mcf2.supplemental.LoggingAspect"/>
    <aop:config proxy-target-class="true">
        <aop:aspect ref="loggingAspect">
            <aop:after-throwing
                pointcut="execution(* net.arcor.mcf2.listener.MCFMessageListenerAdapter.onMessage(..))"
                method="logException"
                throwing="throwable"/>
        </aop:aspect>
    </aop:config>
    
    <!-- Die fÃ¼r diesen Adapter definierten Services -->
    <bean id="serviceRegistryEndpoint"
        class="net.arcor.mcf2.model.ServiceRegistryEndpoint">
        <property name="serviceConfigs">
            <list>
                <ref bean="pruefeBestandskundeServiceConfig"/>
                <ref bean="pruefeBestandskundenRangerServiceConfig"/>
                <ref bean="ermittleKundenArtServiceConfig"/>
                <ref bean="ermittleVertriebspacketWertServiceConfig"/>
                <ref bean="pruefeServiceProviderNeukundeServiceConfig"/>
                <ref bean="getCustomerDataCCMServiceConfig"/>
                <ref bean="getCodbPrerequisiteDataServiceConfig"/>
                <ref bean="getDetailsForAddedFunctionServiceConfig"/>
                <ref bean="getCcbIdServiceConfig"/>
                <ref bean="getCcbOpenOrderServiceConfig"/>
                <ref bean="consolidateSubscriptionDataServiceConfig"/>
                <ref bean="getServiceInformationServiceConfig"/>
                <ref bean="getSomMasterDataServiceConfig"/>
                <ref bean="getSomMasterDataFKPServiceConfig"/>
                <ref bean="fetchFunctionDetailsServiceConfig"/>
                <ref bean="holeVertriebspaketDetailsServiceConfig"/>
                <ref bean="prefetchVertriebspaketDetailsServiceConfig"/>
                <ref bean="prefetchProductBundlesServiceConfig"/>
                <ref bean="fetchProductBundleServiceConfig"/>
                <ref bean="prefetchProductBundlesFKPServiceConfig"/>
                <ref bean="fetchProductBundleFKPServiceConfig"/>
                <ref bean="getSOMCustomerHierarchyDataFKPServiceConfig"/>
            </list>
        </property>
    </bean>
    
    <bean id="bksService"
        class="net.arcor.bks.requesthandler.BksServiceHandler"/>

    <bean id="getCcbOpenOrderService"
        class="net.arcor.bks.requesthandler.GetCcbOpenOrderHandler"/>
    
    <bean id="consolidateSubscriptionDataService"
        class="net.arcor.bks.requesthandler.ConsolidateSubscriptionDataHandler"/>
    
    <bean id="pruefeBestandskundeServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="pruefeBestandskundeService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean>
    
    <bean id="pruefeBestandskundenRangerServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="pruefeBestandskundenRangerService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="ermittleKundenArtServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="ermittleKundenArtService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
     <bean id="getCustomerDataCCMServiceConfig"
         class="net.arcor.mcf2.model.ServiceConfigXml">
         <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
         <constructor-arg value="getCustomerDataCCMService,001"/>
         <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
         <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
         <constructor-arg  ref="bksService"/>
     </bean> 
    
    <bean id="ermittleVertriebspacketWertServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="ermittleVertriebspacketWertService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="pruefeServiceProviderNeukundeServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="pruefeServiceProviderNeukundeService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="getCodbPrerequisiteDataServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="getCodbPrerequisiteDataService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="getDetailsForAddedFunctionServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="getDetailsForAddedFunctionService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="getCcbIdServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="getCcbIdService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="getCcbOpenOrderServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="getCcbOpenOrderService,001"/>
        <constructor-arg value="schema/EPSM-BKS-GetCcbOpenOrder-001.xsd"/>
        <constructor-arg value="net.arcor.ccm.epsm_bks_getccbopenorder_001"/>
        <constructor-arg  ref="getCcbOpenOrderService"/>
    </bean> 
    
    <bean id="consolidateSubscriptionDataServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="consolidateSubscriptionDataService,001"/>
        <constructor-arg value="schema/EPSM-CCM-ConsolidateSubscriptionData-001.xsd"/>
        <constructor-arg value="net.arcor.ccm.epsm_ccm_consolidatesubscriptiondata_001"/>
        <constructor-arg  ref="consolidateSubscriptionDataService"/>                    
    </bean> 
    
    <bean id="getServiceInformationServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="getServiceInformationService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="getSomMasterDataServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="getSomMasterDataService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="getSomMasterDataFKPServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="getSomMasterDataFKPService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="fetchFunctionDetailsServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="fetchFunctionDetailsService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="holeVertriebspaketDetailsServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="holeVertriebspaketDetailsService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
   <bean id="prefetchVertriebspaketDetailsServiceConfig"
       class="net.arcor.mcf2.model.ServiceConfigXml">
       <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
       <constructor-arg value="prefetchVertriebspaketDetailsService,001"/>
       <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
       <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
       <constructor-arg  ref="bksService"/>
   </bean> 
        
    <bean id="prefetchProductBundlesServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="prefetchProductBundlesService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="fetchProductBundleServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="fetchProductBundleService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="prefetchProductBundlesFKPServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="prefetchProductBundlesFKPService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="fetchProductBundleFKPServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="fetchProductBundleFKPService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="getSOMCustomerHierarchyDataFKPServiceConfig"
        class="net.arcor.mcf2.model.ServiceConfigXml">
        <!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
        <constructor-arg value="getSOMCustomerHierarchyDataFKPService,001"/>
        <constructor-arg value="schema/EPSM-CCM-001.xsd"/>
        <constructor-arg value="de.arcor.aaw.kernAAW.bks.services"/>
        <constructor-arg  ref="bksService"/>
    </bean> 
    
    <bean id="leseReferenzdatenVersionServiceConfig" class="net.arcor.mcf2.model.ServiceConfigXml">
		<!-- Reihenfolge: Name ("Name,Version"), Context (= XSD), Schema (= Package), Implementierung -->
		<constructor-arg value="leseReferenzdatenVersionService,001"/>
		<constructor-arg value="schema/EPSM-RefService-001.xsd"/>
		<constructor-arg value="de.arcor.aaw.metadaten.rds.services"/>
	</bean>

    <bean id="soapGetFNPCustomerData"
        class="net.arcor.bks.requesthandler.GetFNPCustomerDataImpl">
    </bean>
    
    <bean id="soapGetCustomerInfo"
        class="net.arcor.bks.requesthandler.GetCustomerInfoImpl">
    </bean>
    
    <bean id="soapGetFNPAddressById"
        class="net.arcor.bks.requesthandler.GetFNPAddressByIdImpl">
    </bean>
    
    <bean id="soapGetFNPCustomerData1b"
        class="net.arcor.bks.requesthandler.GetFNPCustomerData1bImpl">
    </bean>
    
    <bean id="soapGetFNPCustomerData3"
        class="net.arcor.bks.requesthandler.GetFNPCustomerData3Impl">
    </bean>
    
    <bean id="soapGetFNPCustomerData3c"
        class="net.arcor.bks.requesthandler.GetFNPCustomerData3cImpl">
    </bean>
    
    <bean id="soapGetFNPCustomerRecoData"
        class="net.arcor.bks.requesthandler.GetFNPCustomerRecoDataImpl">
    </bean>
    
    <bean id="soapGetFNPCustomerReco4Data"
        class="net.arcor.bks.requesthandler.GetFNPCustomerRecoData4Impl">
    </bean>
    
    <bean id="soapGetFNPCustomerNGCSData"
        class="net.arcor.bks.requesthandler.GetFNPCustomerNGCSDataImpl">
    </bean>
    
    <bean id="soapGetFNPCustomerNGCSData6"
        class="net.arcor.bks.requesthandler.GetFNPCustomerNGCSData6Impl">
    </bean>
    
    <bean id="soapGetFNPCustomerRecoDataCallback"
        class="net.arcor.bks.requesthandler.GetFNPCustomerRecoDataCallbackImpl" scope="prototype">
    </bean>
    
    <bean id="soapGetFNPCustomerHierarchyNGCSData"
        class="net.arcor.bks.requesthandler.GetFNPCustomerHierarchyNGCSDataImpl">
    </bean>
    
    <bean id="soapGetFNPCustomerSomData"
        class="net.arcor.bks.requesthandler.GetFNPCustomerSomDataImpl">
    </bean>
    
    <bean id="soapWbciCustomerInfoForPorting"
        class="net.arcor.bks.requesthandler.WbciCustomerInfoForPortingImpl">
    </bean>
    
    <bean id="soapWbciGetDtagContractNumber"
        class="net.arcor.bks.requesthandler.WbciGetDtagContractNumberImpl">
    </bean>
    
    <bean id="soapWbciKiasInfoForPorting"
        class="net.arcor.bks.requesthandler.WbciKiasInfoForPortingImpl">
    </bean>
    
    <bean id="serviceRegistrySender"
		class="net.arcor.mcf2.model.ServiceRegistrySender">
		<property name="serviceConfigs">
			<list>
				<ref bean="leseReferenzdatenVersionServiceConfig"/>
			</list>
		</property>
	</bean>	

    <bean id="bksCacheManager"
        class="org.springframework.cache.ehcache.EhCacheManagerFactoryBean">
        
        <property name="configLocation">
            <value>classpath:config/ehcache.xml</value> 
        </property>
        
    </bean>
    
    <bean id="ehCache"
        class="org.springframework.cache.ehcache.EhCacheFactoryBean">
        <property name="cacheManager">
            <ref local="bksCacheManager" />
        </property>
        <property name="cacheName">
            <value>BksCache</value>
        </property>
    </bean>    

 </beans>
