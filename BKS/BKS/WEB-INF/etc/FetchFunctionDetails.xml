<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
"http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap>
    <select id = "FetchFunctionDetails.effonl.RetrieveServiceSubscription" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveServiceSubscription */ 
        OF1.NOTICE_PERIOD_DUR_UNIT_RD,OF1.NOTICE_PERIOD_DUR_VALUE,OF1.TERMINATION_RESTRICTION_RD,
        OF1.MIN_PERIOD_DUR_UNIT_RD,OF1.MIN_PERIOD_DUR_VALUE,OF1.MIN_PERIOD_START_DATE,
        OF1.AUTO_EXTENT_DUR_UNIT_RD,OF1.AUTO_EXTENT_DUR_VALUE,OF1.AUTO_EXTENSION_IND,
        PC.PRODUCT_CODE,OF1.BOARD_SIGN_NAME,OF1.BOARD_SIGN_DATE,OF1.PRIMARY_CUST_SIGN_NAME,
        OF1.PRIMARY_CUST_SIGN_DATE,PS.VIS_TRACKING_POSITION,PC.PRODUCT_COMMITMENT_NUMBER,
        PC.PRICING_STRUCTURE_CODE,OF1.CONTRACT_NUMBER,OF1.SPECIAL_TERMINATION_RIGHT_RD,
        OF1.ASSOC_SKELETON_CONTRACT_NUMBER,SS.SERVICE_SUBSCRIPTION_ID,SS.SERVICE_CODE,
        PC.PRODUCT_VERSION_CODE,PROD.BILLING_NAME_2 AS PRODUCT_NAME,
        PRICING.NAME AS PRICING_STRUCTURE_NAME,PS.CUSTOMER_NUMBER
        FROM  
        SERVICE_SUBSCRIPTION SS,PRODUCT_SUBSCRIPTION PS,ORDER_FORM OF1, ORDER_FORM_PRODUCT_COMMIT PC,
        PRODUCT_VERSION PROD,PRICING_STRUCTURE PRICING
        WHERE 
        SS.SERVICE_SUBSCRIPTION_ID = #value# 
        AND SS.PRODUCT_SUBSCRIPTION_ID = PS.PRODUCT_SUBSCRIPTION_ID 
        AND PS.EFFECTIVE_FLAG = 'N'
        AND PS.PRODUCT_COMMITMENT_NUMBER = PC.PRODUCT_COMMITMENT_NUMBER 
        AND PC.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM ORDER_FORM_PRODUCT_COMMIT PC2 WHERE 
        PC.PRODUCT_COMMITMENT_NUMBER = PC2.PRODUCT_COMMITMENT_NUMBER AND 
        PC2.STATE_RD = 'SIGNED')
        AND PC.STATE_RD = 'SIGNED'
        AND OF1.CONTRACT_NUMBER = PC.CONTRACT_NUMBER 
        AND OF1.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM ORDER_FORM OF2 WHERE 
        OF1.CONTRACT_NUMBER = OF2.CONTRACT_NUMBER AND 
        OF2.STATE_RD = 'SIGNED')
        AND OF1.STATE_RD = 'SIGNED'
        AND PROD.PRODUCT_CODE = PC.PRODUCT_CODE 
        AND PROD.PRODUCT_VERSION_CODE =  PC.PRODUCT_VERSION_CODE 
        AND PRICING.PRICING_STRUCTURE_CODE = PC.PRICING_STRUCTURE_CODE 
        AND PRICING.PRODUCT_CODE = PC.PRODUCT_CODE 
        AND PRICING.PRODUCT_VERSION_CODE = PC.PRODUCT_VERSION_CODE 
    </select>
    
    <select id = "FetchFunctionDetails.effonl.RetrieveServiceSubscriptionSDC" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveServiceSubscriptionSDC */ 
        PC.NOTICE_PERIOD_DUR_UNIT_RD,PC.NOTICE_PERIOD_DUR_VALUE,PC.TERMINATION_RESTRICTION_RD,
        PC.MIN_PERIOD_DUR_UNIT_RD,PC.MIN_PERIOD_DUR_VALUE,PC.MIN_PERIOD_START_DATE,
        PC.AUTO_EXTENT_DUR_UNIT_RD,PC.AUTO_EXTENT_DUR_VALUE,PC.AUTO_EXTENSION_IND,PC.PRODUCT_CODE,
        PC.BOARD_SIGN_NAME,PC.BOARD_SIGN_DATE,PC.PRIMARY_CUST_SIGN_NAME,
        PC.PRIMARY_CUST_SIGN_DATE,PS.VIS_TRACKING_POSITION,PC.PRODUCT_COMMITMENT_NUMBER,
        PC.PRICING_STRUCTURE_CODE,SDC.CONTRACT_NUMBER,PC.SPECIAL_TERMINATION_RIGHT_RD,
        SDC.ASSOC_SKELETON_CONTRACT_NUMBER AS SERV_DELIV_SKELETON_NUMBER,SS.SERVICE_SUBSCRIPTION_ID,SS.SERVICE_CODE,
        PC.PRODUCT_VERSION_CODE,PROD.BILLING_NAME_2 AS PRODUCT_NAME,
        PRICING.NAME AS PRICING_STRUCTURE_NAME, SDC.CONTRACT_NUMBER AS SERVICE_DELIVERY_ID,PS.CUSTOMER_NUMBER
        FROM  
        SERVICE_SUBSCRIPTION SS,PRODUCT_SUBSCRIPTION PS,
        SERVICE_DELIVERY_CONTRACT SDC, SERV_DELIV_CONT_PRODUCT_COMMIT PC,
        PRODUCT_VERSION PROD,PRICING_STRUCTURE PRICING
        WHERE 
        SS.SERVICE_SUBSCRIPTION_ID = #value# 
        AND SS.PRODUCT_SUBSCRIPTION_ID = PS.PRODUCT_SUBSCRIPTION_ID 
        AND PS.EFFECTIVE_FLAG = 'N'
        AND PS.PRODUCT_COMMITMENT_NUMBER = PC.PRODUCT_COMMITMENT_NUMBER 
        AND PC.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM SERV_DELIV_CONT_PRODUCT_COMMIT PC2 WHERE 
                                PC.PRODUCT_COMMITMENT_NUMBER = PC2.PRODUCT_COMMITMENT_NUMBER AND 
                                PC2.STATE_RD = 'SIGNED')
        AND SDC.CONTRACT_NUMBER = PC.CONTRACT_NUMBER 
        AND SDC.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM SERVICE_DELIVERY_CONTRACT SDC2 WHERE 
                                SDC.CONTRACT_NUMBER = SDC2.CONTRACT_NUMBER AND 
                                SDC2.STATE_RD = 'SIGNED')
        AND PROD.PRODUCT_CODE = PC.PRODUCT_CODE 
        AND PROD.PRODUCT_VERSION_CODE =  PC.PRODUCT_VERSION_CODE 
        AND PRICING.PRICING_STRUCTURE_CODE = PC.PRICING_STRUCTURE_CODE 
        AND PRICING.PRODUCT_CODE = PC.PRODUCT_CODE 
        AND PRICING.PRODUCT_VERSION_CODE = PC.PRODUCT_VERSION_CODE 
    </select>
    
    <select id = "FetchFunctionDetails.effonl.RetrieveChildServices" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveChildServices */  
        SS.SERVICE_CODE , SS.SERVICE_SUBSCRIPTION_ID, S.ALT_BILLING_NAME_1 AS SERVICE_BILLING_NAME,
        SD.SERVICE_SUBSCRIPTION_DEP_ID
        FROM SERVICE_SUBSCRIPTION SS, 
        SERVICE_SUBSCRIPTION_DEP SD,
        SERVICE S
        WHERE 
        SS.SERVICE_SUBSCRIPTION_ID = SD.SERVICE_SUBSCRIPTION_ID
        AND SD.SERVICE_SUBSCRIPTION_DEP_ID = #value#
        AND SS.STATE_RD = 'SUBSCRIBED'
        AND SS.SERVICE_CODE = S.SERVICE_CODE
        AND S.SERVICE_TYPE NOT IN ('ACCESS_HW','TERMINAL_HW')
        AND S.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM SERVICE S1 WHERE 
                                S.SERVICE_CODE = S1.SERVICE_CODE
                                AND S.EFFECTIVE_STATUS='ACTIVE'
                                AND S1.EFFECTIVE_DATE &lt;= SYSDATE)
    </select>
    
    <select id = "FetchFunctionDetails.effonl.RetrieveConfiguredValues" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveConfiguredValues */  
        CSC.SERVICE_CHARACTERISTIC_CODE, CV.CONFIGURED_VALUE_STRING
        FROM CONFIGURED_VALUE CV, CONFIG_SERVICE_CHARACTERISTIC CSC WHERE 
        CV.CONFIG_SERVICE_CHAR_ID = CSC.CONFIG_SERVICE_CHAR_ID
        AND CSC.EFFECTIVE_FLAG = 'N'
        AND CSC.EFFECTIVE_STATUS = 'ACTIVE'
        AND CSC.SERVICE_SUBSCRIPTION_ID = #value#
    </select>
    
    <select id = "FetchFunctionDetails.effonl.RetrieveAccessNumberChars" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveAccessNumberChars */  
        CSC.SERVICE_CHARACTERISTIC_CODE, AN.RETENTION_PERIOD_RD, AN.MASKING_DIGITS_RD, AN.ACCESS_NUMBER
        FROM ACCESS_NUMBER AN, CONFIG_SERVICE_CHARACTERISTIC CSC WHERE 
        AN.CONFIG_SERVICE_CHAR_ID = CSC.CONFIG_SERVICE_CHAR_ID
        AND CSC.EFFECTIVE_FLAG = 'N'
        AND CSC.EFFECTIVE_STATUS = 'ACTIVE'
        AND CSC.SERVICE_SUBSCRIPTION_ID = #value#
    </select>
    
    <select id = "FetchFunctionDetails.effonl.RetrieveHardwareDepService" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveHardwareDepService */  
        SS2.SERVICE_CODE , SS2.SERVICE_SUBSCRIPTION_ID, S.ALT_BILLING_NAME_1 AS SERVICE_BILLING_NAME,
        SS1.SERVICE_SUBSCRIPTION_ID AS SERVICE_SUBSCRIPTION_DEP_ID
        FROM SERVICE_SUBSCRIPTION SS1, SERVICE_SUBSCRIPTION SS2, SERVICE S
        WHERE 
        SS1.SERVICE_SUBSCRIPTION_ID = #value#
        AND SS1.PRODUCT_SUBSCRIPTION_ID = SS2.PRODUCT_SUBSCRIPTION_ID
        AND SS2.SERVICE_CODE = S.SERVICE_CODE
        AND S.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM SERVICE S1 WHERE 
                                S.SERVICE_CODE = S1.SERVICE_CODE
                                AND S.EFFECTIVE_STATUS='ACTIVE'
                                AND S1.EFFECTIVE_DATE &lt;= SYSDATE)
        AND S.SERVICE_TYPE IN ('ACCESS_HW','TERMINAL_HW')
    </select>
    
    <select id = "FetchFunctionDetails.effonl.RetrieveAddress" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveAddress */   
        AD.ADDRESS_ID, AD.CITY_NAME, AD.CITY_SUFFIX_NAME, AD.COUNTRY_RD, 
        AD.POSTAL_CODE, AD.STREET_NAME, AD.STREET_NUMBER, AD.STREET_NUMBER_SUFFIX ,
        CSC.SERVICE_CHARACTERISTIC_CODE
        FROM CONFIG_SERVICE_CHARACTERISTIC CSC, ADDRESS AD 
        WHERE CSC.SERVICE_SUBSCRIPTION_ID = #value#
        AND CSC.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM CONFIG_SERVICE_CHARACTERISTIC CSC1 
                                    WHERE CSC.SERVICE_SUBSCRIPTION_ID = CSC1.SERVICE_SUBSCRIPTION_ID 
                                    AND CSC.SERVICE_CHARACTERISTIC_CODE = CSC1.SERVICE_CHARACTERISTIC_CODE
                                    AND CSC1.EFFECTIVE_DATE &lt;= SYSDATE )
        AND CSC.EFFECTIVE_STATUS = 'ACTIVE'
        AND CSC.DATA_TYPE_RD = 'ADDRESS'
        AND CSC.ADDRESS_ID = AD.ADDRESS_ID
        AND AD.EFFECTIVE_FLAG = 'N'
        AND AD.EFFECTIVE_STATUS = 'ACTIVE'
    </select>
    
    <select id = "FetchFunctionDetails.effonl.RetrieveServiceForAccessNumber" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveServiceForAccessNumber */  
        CSC.SERVICE_SUBSCRIPTION_ID,AN.CUSTOMER_NUMBER
        FROM ACCESS_NUMBER AN, CONFIG_SERVICE_CHARACTERISTIC CSC WHERE 
        AN.START_RANGE_STRING = #value#        
        AND AN.CONFIG_SERVICE_CHAR_ID = CSC.CONFIG_SERVICE_CHAR_ID
        AND CSC.EFFECTIVE_FLAG = 'N'
        AND CSC.EFFECTIVE_STATUS = 'ACTIVE'
    </select>

    <select id = "FetchFunctionDetails.effonl.RetrieveInitialTicketForService" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveInitialTicketForService */
        STP.USAGE_MODE_VALUE_RD 
        FROM SERVICE_TICKET_POSITION STP 
        WHERE 
        STP.SERVICE_SUBSCRIPTION_ID = #value#
        AND STP.STATE_RD NOT IN ('CANCELED','REJECTED')
        AND STP.USAGE_MODE_VALUE_RD IN ('1','5','6')
    </select>
   
    
    <select id = "FetchFunctionDetails.onl.RetrieveServiceSubscription" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.onl.RetrieveServiceSubscription */ 
        OF1.NOTICE_PERIOD_DUR_UNIT_RD,OF1.NOTICE_PERIOD_DUR_VALUE,OF1.TERMINATION_RESTRICTION_RD,
        OF1.MIN_PERIOD_DUR_UNIT_RD,OF1.MIN_PERIOD_DUR_VALUE,OF1.MIN_PERIOD_START_DATE,
        OF1.AUTO_EXTENT_DUR_UNIT_RD,OF1.AUTO_EXTENT_DUR_VALUE,OF1.AUTO_EXTENSION_IND,
        PC.PRODUCT_CODE,OF1.BOARD_SIGN_NAME,OF1.BOARD_SIGN_DATE,OF1.PRIMARY_CUST_SIGN_NAME,
        OF1.PRIMARY_CUST_SIGN_DATE,PS.VIS_TRACKING_POSITION,PC.PRODUCT_COMMITMENT_NUMBER,
        PC.PRICING_STRUCTURE_CODE,OF1.CONTRACT_NUMBER,OF1.SPECIAL_TERMINATION_RIGHT_RD,
        OF1.ASSOC_SKELETON_CONTRACT_NUMBER,SS.SERVICE_SUBSCRIPTION_ID,SS.SERVICE_CODE,
        PC.PRODUCT_VERSION_CODE,PROD.BILLING_NAME_2 AS PRODUCT_NAME,
        PRICING.NAME AS PRICING_STRUCTURE_NAME,PS.CUSTOMER_NUMBER
        FROM  
        SERVICE_SUBSCRIPTION SS,PRODUCT_SUBSCRIPTION PS,ORDER_FORM OF1, ORDER_FORM_PRODUCT_COMMIT PC,
        PRODUCT_VERSION PROD,PRICING_STRUCTURE PRICING
        WHERE 
        SS.SERVICE_SUBSCRIPTION_ID = #value# 
        AND SS.PRODUCT_SUBSCRIPTION_ID = PS.PRODUCT_SUBSCRIPTION_ID 
        AND PS.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM PRODUCT_SUBSCRIPTION PS2 WHERE 
        PS.PRODUCT_SUBSCRIPTION_ID = PS2.PRODUCT_SUBSCRIPTION_ID)
        AND PS.PRODUCT_COMMITMENT_NUMBER = PC.PRODUCT_COMMITMENT_NUMBER 
        AND PC.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM ORDER_FORM_PRODUCT_COMMIT PC2 WHERE 
        PC.PRODUCT_COMMITMENT_NUMBER = PC2.PRODUCT_COMMITMENT_NUMBER AND 
        PC2.STATE_RD = 'SIGNED')
        AND PC.STATE_RD = 'SIGNED'
        AND OF1.CONTRACT_NUMBER = PC.CONTRACT_NUMBER 
        AND OF1.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM ORDER_FORM OF2 WHERE 
        OF1.CONTRACT_NUMBER = OF2.CONTRACT_NUMBER AND 
        OF2.STATE_RD = 'SIGNED')
        AND OF1.STATE_RD = 'SIGNED'
        AND PROD.PRODUCT_CODE = PC.PRODUCT_CODE 
        AND PROD.PRODUCT_VERSION_CODE =  PC.PRODUCT_VERSION_CODE 
        AND PRICING.PRICING_STRUCTURE_CODE = PC.PRICING_STRUCTURE_CODE 
        AND PRICING.PRODUCT_CODE = PC.PRODUCT_CODE 
        AND PRICING.PRODUCT_VERSION_CODE = PC.PRODUCT_VERSION_CODE 
    </select>
    
    <select id = "FetchFunctionDetails.onl.RetrieveServiceSubscriptionSDC" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.onl.RetrieveServiceSubscriptionSDC */ 
        PC.NOTICE_PERIOD_DUR_UNIT_RD,PC.NOTICE_PERIOD_DUR_VALUE,PC.TERMINATION_RESTRICTION_RD,
        PC.MIN_PERIOD_DUR_UNIT_RD,PC.MIN_PERIOD_DUR_VALUE,PC.MIN_PERIOD_START_DATE,
        PC.AUTO_EXTENT_DUR_UNIT_RD,PC.AUTO_EXTENT_DUR_VALUE,PC.AUTO_EXTENSION_IND,PC.PRODUCT_CODE,
        PC.BOARD_SIGN_NAME,PC.BOARD_SIGN_DATE,PC.PRIMARY_CUST_SIGN_NAME,
        PC.PRIMARY_CUST_SIGN_DATE,PS.VIS_TRACKING_POSITION,PC.PRODUCT_COMMITMENT_NUMBER,
        PC.PRICING_STRUCTURE_CODE,SDC.CONTRACT_NUMBER,PC.SPECIAL_TERMINATION_RIGHT_RD,
        SDC.ASSOC_SKELETON_CONTRACT_NUMBER AS SERV_DELIV_SKELETON_NUMBER,SS.SERVICE_SUBSCRIPTION_ID,SS.SERVICE_CODE,
        PC.PRODUCT_VERSION_CODE,PROD.BILLING_NAME_2 AS PRODUCT_NAME,
        PRICING.NAME AS PRICING_STRUCTURE_NAME, SDC.CONTRACT_NUMBER AS SERVICE_DELIVERY_ID,PS.CUSTOMER_NUMBER
        FROM  
        SERVICE_SUBSCRIPTION SS,PRODUCT_SUBSCRIPTION PS,
        SERVICE_DELIVERY_CONTRACT SDC, SERV_DELIV_CONT_PRODUCT_COMMIT PC,
        PRODUCT_VERSION PROD,PRICING_STRUCTURE PRICING
        WHERE 
        SS.SERVICE_SUBSCRIPTION_ID = #value# 
        AND SS.PRODUCT_SUBSCRIPTION_ID = PS.PRODUCT_SUBSCRIPTION_ID 
        AND PS.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM PRODUCT_SUBSCRIPTION PS2 WHERE 
        PS.PRODUCT_SUBSCRIPTION_ID = PS2.PRODUCT_SUBSCRIPTION_ID)
        AND PS.PRODUCT_COMMITMENT_NUMBER = PC.PRODUCT_COMMITMENT_NUMBER 
        AND PC.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM SERV_DELIV_CONT_PRODUCT_COMMIT PC2 WHERE 
        PC.PRODUCT_COMMITMENT_NUMBER = PC2.PRODUCT_COMMITMENT_NUMBER AND 
        PC2.STATE_RD = 'SIGNED')
        AND PC.STATE_RD = 'SIGNED'
        AND SDC.CONTRACT_NUMBER = PC.CONTRACT_NUMBER 
        AND SDC.EFFECTIVE_DATE = (SELECT MAX(EFFECTIVE_DATE) FROM SERVICE_DELIVERY_CONTRACT SDC2 WHERE 
        SDC.CONTRACT_NUMBER = SDC2.CONTRACT_NUMBER AND 
        SDC2.STATE_RD = 'SIGNED')
        AND SDC.STATE_RD = 'SIGNED'
        AND PROD.PRODUCT_CODE = PC.PRODUCT_CODE 
        AND PROD.PRODUCT_VERSION_CODE =  PC.PRODUCT_VERSION_CODE 
        AND PRICING.PRICING_STRUCTURE_CODE = PC.PRICING_STRUCTURE_CODE 
        AND PRICING.PRODUCT_CODE = PC.PRODUCT_CODE 
        AND PRICING.PRODUCT_VERSION_CODE = PC.PRODUCT_VERSION_CODE 
    </select>
    
    <select id = "FetchFunctionDetails.onl.RetrieveChildServices" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.onl.RetrieveChildServices */  
        SS.SERVICE_CODE , SS.SERVICE_SUBSCRIPTION_ID, S.ALT_BILLING_NAME_1 AS SERVICE_BILLING_NAME,
        SD.SERVICE_SUBSCRIPTION_DEP_ID
        FROM SERVICE_SUBSCRIPTION SS, 
        SERVICE_SUBSCRIPTION_DEP SD,
        SERVICE S
        WHERE 
        SS.SERVICE_SUBSCRIPTION_ID = SD.SERVICE_SUBSCRIPTION_ID
        AND SD.SERVICE_SUBSCRIPTION_DEP_ID = #value#
        AND SS.STATE_RD = 'SUBSCRIBED'
        AND SS.SERVICE_CODE = S.SERVICE_CODE
        AND S.SERVICE_TYPE NOT IN ('ACCESS_HW','TERMINAL_HW')
        AND S.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM SERVICE S1 WHERE 
                                S.SERVICE_CODE = S1.SERVICE_CODE
                                AND S.EFFECTIVE_STATUS='ACTIVE'
                                AND S1.EFFECTIVE_DATE &lt;= SYSDATE)
    </select>
    
    <select id = "FetchFunctionDetails.onl.RetrieveConfiguredValues" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.onl.RetrieveConfiguredValues */  CSC.SERVICE_CHARACTERISTIC_CODE, CV.CONFIGURED_VALUE_STRING
        FROM CONFIGURED_VALUE CV, CONFIG_SERVICE_CHARACTERISTIC CSC WHERE 
        CV.CONFIG_SERVICE_CHAR_ID = CSC.CONFIG_SERVICE_CHAR_ID
        AND CSC.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM CONFIG_SERVICE_CHARACTERISTIC CSC1 
                                WHERE CSC.CONFIG_SERVICE_CHAR_ID = CSC1.CONFIG_SERVICE_CHAR_ID 
                                AND CSC1.EFFECTIVE_DATE &lt;= SYSDATE )
        AND CSC.EFFECTIVE_STATUS = 'ACTIVE'
        AND CSC.SERVICE_SUBSCRIPTION_ID = #value#
    </select>
    
    <select id = "FetchFunctionDetails.onl.RetrieveAccessNumberChars" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.onl.RetrieveAccessNumberChars */  CSC.SERVICE_CHARACTERISTIC_CODE, AN.RETENTION_PERIOD_RD, AN.MASKING_DIGITS_RD, AN.ACCESS_NUMBER
        FROM ACCESS_NUMBER AN, CONFIG_SERVICE_CHARACTERISTIC CSC WHERE 
        AN.CONFIG_SERVICE_CHAR_ID = CSC.CONFIG_SERVICE_CHAR_ID
        AND CSC.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM CONFIG_SERVICE_CHARACTERISTIC CSC1 
                                    WHERE CSC.CONFIG_SERVICE_CHAR_ID = CSC1.CONFIG_SERVICE_CHAR_ID 
                                    AND CSC1.EFFECTIVE_DATE &lt;= SYSDATE )
        AND CSC.EFFECTIVE_STATUS = 'ACTIVE'
        AND CSC.SERVICE_SUBSCRIPTION_ID = #value#
    </select>
    
    <select id = "FetchFunctionDetails.onl.RetrieveHardwareDepService" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.effonl.RetrieveHardwareDepService */  
        SS2.SERVICE_CODE , SS2.SERVICE_SUBSCRIPTION_ID, S.ALT_BILLING_NAME_1 AS SERVICE_BILLING_NAME,
        SS1.SERVICE_SUBSCRIPTION_ID AS SERVICE_SUBSCRIPTION_DEP_ID
        FROM SERVICE_SUBSCRIPTION SS1, SERVICE_SUBSCRIPTION SS2, SERVICE S
        WHERE 
        SS1.SERVICE_SUBSCRIPTION_ID = #value#
        AND SS1.PRODUCT_SUBSCRIPTION_ID = SS2.PRODUCT_SUBSCRIPTION_ID
        AND SS2.SERVICE_CODE = S.SERVICE_CODE
        AND S.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM SERVICE S1 WHERE 
                                S.SERVICE_CODE = S1.SERVICE_CODE
                                AND S.EFFECTIVE_STATUS='ACTIVE'
                                AND S1.EFFECTIVE_DATE &lt;= SYSDATE)
        AND S.SERVICE_TYPE IN ('ACCESS_HW','TERMINAL_HW')
    </select>
    
    <select id = "FetchFunctionDetails.onl.RetrieveAddress" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.onl.RetrieveAddress */   
        AD.ADDRESS_ID, AD.CITY_NAME, AD.CITY_SUFFIX_NAME, AD.COUNTRY_RD, 
        AD.POSTAL_CODE, AD.STREET_NAME, AD.STREET_NUMBER, AD.STREET_NUMBER_SUFFIX,
        CSC.SERVICE_CHARACTERISTIC_CODE
        FROM CONFIG_SERVICE_CHARACTERISTIC CSC, ADDRESS AD 
        WHERE CSC.SERVICE_SUBSCRIPTION_ID = #value#
        AND CSC.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM CONFIG_SERVICE_CHARACTERISTIC CSC1 
                                    WHERE CSC.SERVICE_SUBSCRIPTION_ID = CSC1.SERVICE_SUBSCRIPTION_ID 
                                    AND CSC.SERVICE_CHARACTERISTIC_CODE = CSC1.SERVICE_CHARACTERISTIC_CODE
                                    AND CSC1.EFFECTIVE_DATE &lt;= SYSDATE )
        AND CSC.EFFECTIVE_STATUS = 'ACTIVE'
        AND CSC.DATA_TYPE_RD = 'ADDRESS'
        AND CSC.ADDRESS_ID = AD.ADDRESS_ID
        AND AD.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM ADDRESS AD1 
        WHERE AD.ADDRESS_ID = AD1.ADDRESS_ID 
        AND AD.ENTITY_ID = AD1.ENTITY_ID 
        AND AD1.EFFECTIVE_DATE &lt;= SYSDATE ) 
        AND AD.EFFECTIVE_STATUS = 'ACTIVE'
    </select>
    
    <select id = "FetchFunctionDetails.onl.RetrieveServiceForAccessNumber" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.onl.RetrieveServiceForAccessNumber */  
        CSC.SERVICE_SUBSCRIPTION_ID,AN.CUSTOMER_NUMBER
        FROM ACCESS_NUMBER AN, CONFIG_SERVICE_CHARACTERISTIC CSC WHERE 
        AN.START_RANGE_STRING = #value#        
        AND AN.CONFIG_SERVICE_CHAR_ID = CSC.CONFIG_SERVICE_CHAR_ID
        AND CSC.EFFECTIVE_DATE = ( SELECT MAX(EFFECTIVE_DATE) FROM CONFIG_SERVICE_CHARACTERISTIC CSC1 
                                WHERE CSC.CONFIG_SERVICE_CHAR_ID = CSC1.CONFIG_SERVICE_CHAR_ID 
                                AND CSC1.EFFECTIVE_DATE &lt;= SYSDATE )
        AND CSC.EFFECTIVE_STATUS = 'ACTIVE'
    </select>
        
    <select id = "FetchFunctionDetails.onl.RetrieveInitialTicketForService" parameterClass = "String" resultClass="java.util.HashMap">
        SELECT /* FetchFunctionDetails.onl.RetrieveInitialTicketForService */
        STP.USAGE_MODE_VALUE_RD 
        FROM SERVICE_TICKET_POSITION STP 
        WHERE 
        STP.SERVICE_SUBSCRIPTION_ID = #value#
        AND STP.STATE_RD NOT IN ('CANCELED','REJECTED')
        AND STP.USAGE_MODE_VALUE_RD IN ('1','5','6')
    </select>
   
</sqlMap>
                                    